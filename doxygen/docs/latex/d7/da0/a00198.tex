This Framework is an optional add-\/on to Unity. By including \mbox{\hyperlink{a00125}{unity.\+h}} and then \mbox{\hyperlink{a00104}{unity\+\_\+memory.\+h}}, you have the added ability to track malloc and free calls. This addon requires that the stdlib functions be overridden by its own defines. These defines will still malloc / realloc / free etc, but will also track the calls in order to ensure that you don\textquotesingle{}t have any memory leaks in your programs.

Note that this is only useful in situations where a unit is in charge of both the allocation and deallocation of memory. When it is not symmetric, unit testing can report a number of false failures. A more advanced runtime tool is required to track complete system memory handling.\hypertarget{a00198_autotoc_md7}{}\doxysection{Module A\+PI}\label{a00198_autotoc_md7}
\hypertarget{a00198_autotoc_md8}{}\doxysubsection{$<$tt$>$\+Unity\+Malloc\+\_\+\+Start\+Test$<$/tt$>$ and $<$tt$>$\+Unity\+Malloc\+\_\+\+End\+Test$<$/tt$>$}\label{a00198_autotoc_md8}
These must be called at the beginning and end of each test. For simplicity, they can be added to {\ttfamily set\+Up} and {\ttfamily tear\+Down} in order to do their job. When using the test runner generator scripts, these will be automatically added to the runner whenever \mbox{\hyperlink{a00104}{unity\+\_\+memory.\+h}} is included.\hypertarget{a00198_autotoc_md9}{}\doxysubsection{$<$tt$>$\+Unity\+Malloc\+\_\+\+Make\+Malloc\+Fail\+After\+Count$<$/tt$>$}\label{a00198_autotoc_md9}
This can be called from the tests themselves. Passing this function a number will force the reference counter to start keeping track of malloc calls. During that test, if the number of malloc calls exceeds the number given, malloc will immediately start returning {\ttfamily N\+U\+LL}. This allows you to test error conditions. Think of it as a simplified mock.\hypertarget{a00198_autotoc_md10}{}\doxysection{Configuration}\label{a00198_autotoc_md10}
\hypertarget{a00198_autotoc_md11}{}\doxysubsection{$<$tt$>$\+U\+N\+I\+T\+Y\+\_\+\+M\+A\+L\+L\+O\+C$<$/tt$>$ and $<$tt$>$\+U\+N\+I\+T\+Y\+\_\+\+F\+R\+E\+E$<$/tt$>$}\label{a00198_autotoc_md11}
By default, this module tries to use the real stdlib {\ttfamily malloc} and {\ttfamily free} internally. If you would prefer it to use something else, like Free\+R\+T\+OS\textquotesingle{}s {\ttfamily pv\+Port\+Malloc} and {\ttfamily pv\+Port\+Free}, then you can use these defines to make it so.\hypertarget{a00198_autotoc_md12}{}\doxysubsection{$<$tt$>$\+U\+N\+I\+T\+Y\+\_\+\+E\+X\+C\+L\+U\+D\+E\+\_\+\+S\+T\+D\+L\+I\+B\+\_\+\+M\+A\+L\+L\+O\+C$<$/tt$>$}\label{a00198_autotoc_md12}
If you would like this library to ignore stdlib or other heap engines completely, and manage the memory on its own, then define this. All memory will be handled internally (and at likely lower overhead). Note that this is not a very featureful memory manager, but is sufficient for most testing purposes.\hypertarget{a00198_autotoc_md13}{}\doxysubsection{$<$tt$>$\+U\+N\+I\+T\+Y\+\_\+\+I\+N\+T\+E\+R\+N\+A\+L\+\_\+\+H\+E\+A\+P\+\_\+\+S\+I\+Z\+E\+\_\+\+B\+Y\+T\+E\+S$<$/tt$>$}\label{a00198_autotoc_md13}
When using the built-\/in memory manager (see {\ttfamily U\+N\+I\+T\+Y\+\_\+\+E\+X\+C\+L\+U\+D\+E\+\_\+\+S\+T\+D\+L\+I\+B\+\_\+\+M\+A\+L\+L\+OC}) this define allows you to set the heap size this library will use to manage the memory. 